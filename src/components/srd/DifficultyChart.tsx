/* eslint-disable no-loss-of-precision */

import { css } from '@styled-system/css';
import { grid, hstack, vstack } from '@styled-system/patterns';
import { useMemo, useState } from 'react';
import {
  CartesianGrid,
  Legend,
  Line,
  LineChart,
  ResponsiveContainer,
  Tooltip,
  type TooltipProps,
  XAxis,
  YAxis,
} from 'recharts';

const enum Double {
  Tens = 'tens',
  Nines = 'nines',
}

const enum Enhancement {
  None = 'none',
  One = 'one',
  Two = 'two',
  Three = 'three',
}

/**
 * This data was statically generated from the following AnyDice code:
 *
 * ```
 * function: roll N:n double D:n {
 *   if N >= D { result: 2 }
 *   result: N >= 8
 * }
 *
 * function: V:n with enhancement E:n {
 *   if V = 0 { result: 0 }
 *   result: V + E
 * }
 *
 * loop N over {1..10} {
 *   output [Nd[roll d10 double 9] with enhancement 3] named "[N]d10"
 * }
 *
 * ```
 */
const DATA = {
  [Double.Tens]: {
    [Enhancement.None]: [
      {
        label: '1d10',
        data: [
          { x: 0, y: 100 },
          { x: 1, y: 30 },
          { x: 2, y: 10 },
        ],
      },
      {
        label: '2d10',
        data: [
          { x: 0, y: 100 },
          { x: 1, y: 51 },
          { x: 2, y: 23 },
          { x: 3, y: 5 },
          { x: 4, y: 1 },
        ],
      },
      {
        label: '3d10',
        data: [
          { x: 0, y: 100 },
          { x: 1, y: 65.7 },
          { x: 2, y: 36.300000000000004 },
          { x: 3, y: 13.200000000000003 },
          { x: 4, y: 4.0000000000000036 },
          { x: 5, y: 0.7000000000000037 },
          { x: 6, y: 0.10000000000000375 },
        ],
      },
      {
        label: '4d10',
        data: [
          { x: 0, y: 100 },
          { x: 1, y: 75.99 },
          { x: 2, y: 48.55 },
          { x: 3, y: 23.069999999999997 },
          { x: 4, y: 9.069999999999997 },
          { x: 5, y: 2.6099999999999968 },
          { x: 6, y: 0.6099999999999968 },
          { x: 7, y: 0.08999999999999675 },
          { x: 8, y: 0.009999999999996748 },
        ],
      },
      {
        label: '5d10',
        data: [
          { x: 0, y: 100 },
          { x: 1, y: 83.193 },
          { x: 2, y: 59.18299999999999 },
          { x: 3, y: 33.45799999999999 },
          { x: 4, y: 15.81799999999999 },
          { x: 5, y: 5.9479999999999915 },
          { x: 6, y: 1.8559999999999919 },
          { x: 7, y: 0.44599999999999196 },
          { x: 8, y: 0.08599999999999197 },
          { x: 9, y: 0.010999999999991975 },
          { x: 10, y: 0.0009999999999919743 },
        ],
      },
      {
        label: '6d10',
        data: [
          { x: 0, y: 100 },
          { x: 1, y: 88.2351 },
          { x: 2, y: 68.0667 },
          { x: 3, y: 43.576499999999996 },
          { x: 4, y: 23.682499999999997 },
          { x: 5, y: 10.672999999999998 },
          { x: 6, y: 4.070599999999998 },
          { x: 7, y: 1.2781999999999978 },
          { x: 8, y: 0.33499999999999774 },
          { x: 9, y: 0.06949999999999773 },
          { x: 10, y: 0.011499999999997727 },
          { x: 11, y: 0.0012999999999977266 },
          { x: 12, y: 0.00009999999999772669 },
        ],
      },
      {
        label: '7d10',
        data: [
          { x: 0, y: 100 },
          { x: 1, y: 91.76457 },
          { x: 2, y: 75.29371 },
          { x: 3, y: 52.940400000000004 },
          { x: 4, y: 32.099720000000005 },
          { x: 5, y: 16.565250000000006 },
          { x: 6, y: 7.352270000000006 },
          { x: 7, y: 2.776160000000006 },
          { x: 8, y: 0.8972000000000062 },
          { x: 9, y: 0.24347000000000618 },
          { x: 10, y: 0.05545000000000619 },
          { x: 11, y: 0.010160000000006192 },
          { x: 12, y: 0.0014800000000061916 },
          { x: 13, y: 0.00015000000000619162 },
          { x: 14, y: 0.000010000000006191634 },
        ],
      },
      {
        label: '8d10',
        data: [
          { x: 0, y: 100 },
          { x: 1, y: 94.235199 },
          { x: 2, y: 81.058511 },
          { x: 3, y: 61.29347899999999 },
          { x: 4, y: 40.58725499999999 },
          { x: 5, y: 23.309658999999993 },
          { x: 6, y: 11.669610999999993 },
          { x: 7, y: 5.070290999999993 },
          { x: 8, y: 1.918498999999993 },
          { x: 9, y: 0.627484999999993 },
          { x: 10, y: 0.17722899999999298 },
          { x: 11, y: 0.04254899999999298 },
          { x: 12, y: 0.00861299999999298 },
          { x: 13, y: 0.0014169999999929803 },
          { x: 14, y: 0.00018499999999298028 },
          { x: 15, y: 0.000016999999999992980285 },
          { x: 16, y: 9.999999929802862e-7 },
        ],
      },
      {
        label: '9d10',
        data: [
          { x: 0, y: 100 },
          { x: 1, y: 95.9646393 },
          { x: 2, y: 85.5879975 },
          { x: 3, y: 68.5406574 },
          { x: 4, y: 48.775625399999996 },
          { x: 5, y: 30.563560199999994 },
          { x: 6, y: 16.889384999999994 },
          { x: 7, y: 8.214091799999993 },
          { x: 8, y: 3.523968599999993 },
          { x: 9, y: 1.3299683999999927 },
          { x: 10, y: 0.44140719999999267 },
          { x: 11, y: 0.12797859999999267 },
          { x: 12, y: 0.032261799999992666 },
          { x: 13, y: 0.006969399999992666 },
          { x: 14, y: 0.001274199999992666 },
          { x: 15, y: 0.000190599999992666 },
          { x: 16, y: 0.000022599999992666003 },
          { x: 17, y: 0.0000018999999926660046 },
          { x: 18, y: 9.999999266600471e-8 },
        ],
      },
      {
        label: '10d10',
        data: [
          { x: 0, y: 100 },
          { x: 1, y: 97.17524751 },
          { x: 2, y: 89.10452611000001 },
          { x: 3, y: 74.69252361000001 },
          { x: 4, y: 56.40986901000001 },
          { x: 5, y: 38.003682960000006 },
          { x: 6, y: 22.812844080000005 },
          { x: 7, y: 12.184097280000005 },
          { x: 8, y: 5.7985348800000045 },
          { x: 9, y: 2.4571807800000043 },
          { x: 10, y: 0.9273755800000043 },
          { x: 11, y: 0.3108633000000043 },
          { x: 12, y: 0.09231970000000428 },
          { x: 13, y: 0.02412880000000428 },
          { x: 14, y: 0.005512000000004281 },
          { x: 15, y: 0.001085200000004281 },
          { x: 16, y: 0.00018136000000428096 },
          { x: 17, y: 0.00002491000000428095 },
          { x: 18, y: 0.000002710000004280948 },
          { x: 19, y: 2.1000000428094782e-7 },
          { x: 20, y: 1.000000428094783e-8 },
        ],
      },
    ],
    [Enhancement.One]: [
      {
        label: '1d10',
        data: [
          { x: 0, y: 100 },
          { x: 2, y: 30 },
          { x: 3, y: 10 },
        ],
      },
      {
        label: '2d10',
        data: [
          { x: 0, y: 100 },
          { x: 2, y: 51 },
          { x: 3, y: 23 },
          { x: 4, y: 5 },
          { x: 5, y: 1 },
        ],
      },
      {
        label: '3d10',
        data: [
          { x: 0, y: 100 },
          { x: 2, y: 65.7 },
          { x: 3, y: 36.300000000000004 },
          { x: 4, y: 13.200000000000003 },
          { x: 5, y: 4.0000000000000036 },
          { x: 6, y: 0.7000000000000037 },
          { x: 7, y: 0.10000000000000375 },
        ],
      },
      {
        label: '4d10',
        data: [
          { x: 0, y: 100 },
          { x: 2, y: 75.99 },
          { x: 3, y: 48.55 },
          { x: 4, y: 23.069999999999997 },
          { x: 5, y: 9.069999999999997 },
          { x: 6, y: 2.6099999999999968 },
          { x: 7, y: 0.6099999999999968 },
          { x: 8, y: 0.08999999999999675 },
          { x: 9, y: 0.009999999999996748 },
        ],
      },
      {
        label: '5d10',
        data: [
          { x: 0, y: 100 },
          { x: 2, y: 83.193 },
          { x: 3, y: 59.18299999999999 },
          { x: 4, y: 33.45799999999999 },
          { x: 5, y: 15.81799999999999 },
          { x: 6, y: 5.9479999999999915 },
          { x: 7, y: 1.8559999999999919 },
          { x: 8, y: 0.44599999999999196 },
          { x: 9, y: 0.08599999999999197 },
          { x: 10, y: 0.010999999999991975 },
          { x: 11, y: 0.0009999999999919743 },
        ],
      },
      {
        label: '6d10',
        data: [
          { x: 0, y: 100 },
          { x: 2, y: 88.2351 },
          { x: 3, y: 68.0667 },
          { x: 4, y: 43.576499999999996 },
          { x: 5, y: 23.682499999999997 },
          { x: 6, y: 10.672999999999998 },
          { x: 7, y: 4.070599999999998 },
          { x: 8, y: 1.2781999999999978 },
          { x: 9, y: 0.33499999999999774 },
          { x: 10, y: 0.06949999999999773 },
          { x: 11, y: 0.011499999999997727 },
          { x: 12, y: 0.0012999999999977266 },
          { x: 13, y: 0.00009999999999772669 },
        ],
      },
      {
        label: '7d10',
        data: [
          { x: 0, y: 100 },
          { x: 2, y: 91.76457 },
          { x: 3, y: 75.29371 },
          { x: 4, y: 52.940400000000004 },
          { x: 5, y: 32.099720000000005 },
          { x: 6, y: 16.565250000000006 },
          { x: 7, y: 7.352270000000006 },
          { x: 8, y: 2.776160000000006 },
          { x: 9, y: 0.8972000000000062 },
          { x: 10, y: 0.24347000000000618 },
          { x: 11, y: 0.05545000000000619 },
          { x: 12, y: 0.010160000000006192 },
          { x: 13, y: 0.0014800000000061916 },
          { x: 14, y: 0.00015000000000619162 },
          { x: 15, y: 0.000010000000006191634 },
        ],
      },
      {
        label: '8d10',
        data: [
          { x: 0, y: 100 },
          { x: 2, y: 94.235199 },
          { x: 3, y: 81.058511 },
          { x: 4, y: 61.29347899999999 },
          { x: 5, y: 40.58725499999999 },
          { x: 6, y: 23.309658999999993 },
          { x: 7, y: 11.669610999999993 },
          { x: 8, y: 5.070290999999993 },
          { x: 9, y: 1.918498999999993 },
          { x: 10, y: 0.627484999999993 },
          { x: 11, y: 0.17722899999999298 },
          { x: 12, y: 0.04254899999999298 },
          { x: 13, y: 0.00861299999999298 },
          { x: 14, y: 0.0014169999999929803 },
          { x: 15, y: 0.00018499999999298028 },
          { x: 16, y: 0.000016999999992980285 },
          { x: 17, y: 9.999999929802862e-7 },
        ],
      },
      {
        label: '9d10',
        data: [
          { x: 0, y: 100 },
          { x: 2, y: 95.9646393 },
          { x: 3, y: 85.5879975 },
          { x: 4, y: 68.5406574 },
          { x: 5, y: 48.775625399999996 },
          { x: 6, y: 30.563560199999994 },
          { x: 7, y: 16.889384999999994 },
          { x: 8, y: 8.214091799999993 },
          { x: 9, y: 3.523968599999993 },
          { x: 10, y: 1.3299683999999927 },
          { x: 11, y: 0.44140719999999267 },
          { x: 12, y: 0.12797859999999267 },
          { x: 13, y: 0.032261799999992666 },
          { x: 14, y: 0.006969399999992666 },
          { x: 15, y: 0.001274199999992666 },
          { x: 16, y: 0.000190599999992666 },
          { x: 17, y: 0.000022599999992666003 },
          { x: 18, y: 0.0000018999999926660046 },
          { x: 19, y: 9.999999266600471e-8 },
        ],
      },
      {
        label: '10d10',
        data: [
          { x: 0, y: 100 },
          { x: 2, y: 97.17524751 },
          { x: 3, y: 89.10452611000001 },
          { x: 4, y: 74.69252361000001 },
          { x: 5, y: 56.40986901000001 },
          { x: 6, y: 38.003682960000006 },
          { x: 7, y: 22.812844080000005 },
          { x: 8, y: 12.184097280000005 },
          { x: 9, y: 5.7985348800000045 },
          { x: 10, y: 2.4571807800000043 },
          { x: 11, y: 0.9273755800000043 },
          { x: 12, y: 0.3108633000000043 },
          { x: 13, y: 0.09231970000000428 },
          { x: 14, y: 0.02412880000000428 },
          { x: 15, y: 0.005512000000004281 },
          { x: 16, y: 0.001085200000004281 },
          { x: 17, y: 0.00018136000000428096 },
          { x: 18, y: 0.00002491000000428095 },
          { x: 19, y: 0.000002710000004280948 },
          { x: 20, y: 2.1000000428094782e-7 },
          { x: 21, y: 1.000000428094783e-8 },
        ],
      },
    ],
    [Enhancement.Two]: [
      {
        label: '1d10',
        data: [
          { x: 0, y: 100 },
          { x: 3, y: 30 },
          { x: 4, y: 10 },
        ],
      },
      {
        label: '2d10',
        data: [
          { x: 0, y: 100 },
          { x: 3, y: 51 },
          { x: 4, y: 23 },
          { x: 5, y: 5 },
          { x: 6, y: 1 },
        ],
      },
      {
        label: '3d10',
        data: [
          { x: 0, y: 100 },
          { x: 3, y: 65.7 },
          { x: 4, y: 36.300000000000004 },
          { x: 5, y: 13.200000000000003 },
          { x: 6, y: 4.0000000000000036 },
          { x: 7, y: 0.7000000000000037 },
          { x: 8, y: 0.10000000000000375 },
        ],
      },
      {
        label: '4d10',
        data: [
          { x: 0, y: 100 },
          { x: 3, y: 75.99 },
          { x: 4, y: 48.55 },
          { x: 5, y: 23.069999999999997 },
          { x: 6, y: 9.069999999999997 },
          { x: 7, y: 2.6099999999999968 },
          { x: 8, y: 0.6099999999999968 },
          { x: 9, y: 0.08999999999999675 },
          { x: 10, y: 0.009999999999996748 },
        ],
      },
      {
        label: '5d10',
        data: [
          { x: 0, y: 100 },
          { x: 3, y: 83.193 },
          { x: 4, y: 59.18299999999999 },
          { x: 5, y: 33.45799999999999 },
          { x: 6, y: 15.81799999999999 },
          { x: 7, y: 5.9479999999999915 },
          { x: 8, y: 1.8559999999999919 },
          { x: 9, y: 0.44599999999999196 },
          { x: 10, y: 0.08599999999999197 },
          { x: 11, y: 0.010999999999991975 },
          { x: 12, y: 0.0009999999999919743 },
        ],
      },
      {
        label: '6d10',
        data: [
          { x: 0, y: 100 },
          { x: 3, y: 88.2351 },
          { x: 4, y: 68.0667 },
          { x: 5, y: 43.576499999999996 },
          { x: 6, y: 23.682499999999997 },
          { x: 7, y: 10.672999999999998 },
          { x: 8, y: 4.070599999999998 },
          { x: 9, y: 1.2781999999999978 },
          { x: 10, y: 0.33499999999999774 },
          { x: 11, y: 0.06949999999999773 },
          { x: 12, y: 0.011499999999997727 },
          { x: 13, y: 0.0012999999999977266 },
          { x: 14, y: 0.00009999999999772669 },
        ],
      },
      {
        label: '7d10',
        data: [
          { x: 0, y: 100 },
          { x: 3, y: 91.76457 },
          { x: 4, y: 75.29371 },
          { x: 5, y: 52.940400000000004 },
          { x: 6, y: 32.099720000000005 },
          { x: 7, y: 16.565250000000006 },
          { x: 8, y: 7.352270000000006 },
          { x: 9, y: 2.776160000000006 },
          { x: 10, y: 0.8972000000000062 },
          { x: 11, y: 0.24347000000000618 },
          { x: 12, y: 0.05545000000000619 },
          { x: 13, y: 0.010160000000006192 },
          { x: 14, y: 0.0014800000000061916 },
          { x: 15, y: 0.00015000000000619162 },
          { x: 16, y: 0.000010000000006191634 },
        ],
      },
      {
        label: '8d10',
        data: [
          { x: 0, y: 100 },
          { x: 3, y: 94.235199 },
          { x: 4, y: 81.058511 },
          { x: 5, y: 61.29347899999999 },
          { x: 6, y: 40.58725499999999 },
          { x: 7, y: 23.309658999999993 },
          { x: 8, y: 11.669610999999993 },
          { x: 9, y: 5.070290999999993 },
          { x: 10, y: 1.918498999999993 },
          { x: 11, y: 0.627484999999993 },
          { x: 12, y: 0.17722899999999298 },
          { x: 13, y: 0.04254899999999298 },
          { x: 14, y: 0.00861299999999298 },
          { x: 15, y: 0.0014169999999929803 },
          { x: 16, y: 0.00018499999999298028 },
          { x: 17, y: 0.000016999999999980285 },
          { x: 18, y: 9.999999929802862e-7 },
        ],
      },
      {
        label: '9d10',
        data: [
          { x: 0, y: 100 },
          { x: 3, y: 95.9646393 },
          { x: 4, y: 85.5879975 },
          { x: 5, y: 68.5406574 },
          { x: 6, y: 48.775625399999996 },
          { x: 7, y: 30.563560199999994 },
          { x: 8, y: 16.889384999999994 },
          { x: 9, y: 8.214091799999993 },
          { x: 10, y: 3.523968599999993 },
          { x: 11, y: 1.3299683999999927 },
          { x: 12, y: 0.44140719999999267 },
          { x: 13, y: 0.12797859999999267 },
          { x: 14, y: 0.032261799999992666 },
          { x: 15, y: 0.006969399999992666 },
          { x: 16, y: 0.001274199999992666 },
          { x: 17, y: 0.000190599999992666 },
          { x: 18, y: 0.000022599999992666003 },
          { x: 19, y: 0.0000018999999926660046 },
          { x: 20, y: 9.999999266600471e-8 },
        ],
      },
      {
        label: '10d10',
        data: [
          { x: 0, y: 100 },
          { x: 3, y: 97.17524751 },
          { x: 4, y: 89.10452611000001 },
          { x: 5, y: 74.69252361000001 },
          { x: 6, y: 56.40986901000001 },
          { x: 7, y: 38.003682960000006 },
          { x: 8, y: 22.812844080000005 },
          { x: 9, y: 12.184097280000005 },
          { x: 10, y: 5.7985348800000045 },
          { x: 11, y: 2.4571807800000043 },
          { x: 12, y: 0.9273755800000043 },
          { x: 13, y: 0.3108633000000043 },
          { x: 14, y: 0.09231970000000428 },
          { x: 15, y: 0.02412880000000428 },
          { x: 16, y: 0.005512000000004281 },
          { x: 17, y: 0.001085200000004281 },
          { x: 18, y: 0.00018136000000428096 },
          { x: 19, y: 0.00002491000000428095 },
          { x: 20, y: 0.000002710000004280948 },
          { x: 21, y: 2.1000000428094782e-7 },
          { x: 22, y: 1.000000428094783e-8 },
        ],
      },
    ],
    [Enhancement.Three]: [
      {
        label: '1d10',
        data: [
          { x: 0, y: 100 },
          { x: 4, y: 30 },
          { x: 5, y: 10 },
        ],
      },
      {
        label: '2d10',
        data: [
          { x: 0, y: 100 },
          { x: 4, y: 51 },
          { x: 5, y: 23 },
          { x: 6, y: 5 },
          { x: 7, y: 1 },
        ],
      },
      {
        label: '3d10',
        data: [
          { x: 0, y: 100 },
          { x: 4, y: 65.7 },
          { x: 5, y: 36.300000000000004 },
          { x: 6, y: 13.200000000000003 },
          { x: 7, y: 4.0000000000000036 },
          { x: 8, y: 0.7000000000000037 },
          { x: 9, y: 0.10000000000000375 },
        ],
      },
      {
        label: '4d10',
        data: [
          { x: 0, y: 100 },
          { x: 4, y: 75.99 },
          { x: 5, y: 48.55 },
          { x: 6, y: 23.069999999999997 },
          { x: 7, y: 9.069999999999997 },
          { x: 8, y: 2.6099999999999968 },
          { x: 9, y: 0.6099999999999968 },
          { x: 10, y: 0.08999999999999675 },
          { x: 11, y: 0.009999999999996748 },
        ],
      },
      {
        label: '5d10',
        data: [
          { x: 0, y: 100 },
          { x: 4, y: 83.193 },
          { x: 5, y: 59.18299999999999 },
          { x: 6, y: 33.45799999999999 },
          { x: 7, y: 15.81799999999999 },
          { x: 8, y: 5.9479999999999915 },
          { x: 9, y: 1.8559999999999919 },
          { x: 10, y: 0.44599999999999196 },
          { x: 11, y: 0.08599999999999197 },
          { x: 12, y: 0.010999999999991975 },
          { x: 13, y: 0.0009999999999919743 },
        ],
      },
      {
        label: '6d10',
        data: [
          { x: 0, y: 100 },
          { x: 4, y: 88.2351 },
          { x: 5, y: 68.0667 },
          { x: 6, y: 43.576499999999996 },
          { x: 7, y: 23.682499999999997 },
          { x: 8, y: 10.672999999999998 },
          { x: 9, y: 4.070599999999998 },
          { x: 10, y: 1.2781999999999978 },
          { x: 11, y: 0.33499999999999774 },
          { x: 12, y: 0.06949999999999773 },
          { x: 13, y: 0.011499999999997727 },
          { x: 14, y: 0.0012999999999977266 },
          { x: 15, y: 0.00009999999999772669 },
        ],
      },
      {
        label: '7d10',
        data: [
          { x: 0, y: 100 },
          { x: 4, y: 91.76457 },
          { x: 5, y: 75.29371 },
          { x: 6, y: 52.940400000000004 },
          { x: 7, y: 32.099720000000005 },
          { x: 8, y: 16.565250000000006 },
          { x: 9, y: 7.352270000000006 },
          { x: 10, y: 2.776160000000006 },
          { x: 11, y: 0.8972000000000062 },
          { x: 12, y: 0.24347000000000618 },
          { x: 13, y: 0.05545000000000619 },
          { x: 14, y: 0.010160000000006192 },
          { x: 15, y: 0.0014800000000061916 },
          { x: 16, y: 0.00015000000000619162 },
          { x: 17, y: 0.000010000000006191634 },
        ],
      },
      {
        label: '8d10',
        data: [
          { x: 0, y: 100 },
          { x: 4, y: 94.235199 },
          { x: 5, y: 81.058511 },
          { x: 6, y: 61.29347899999999 },
          { x: 7, y: 40.58725499999999 },
          { x: 8, y: 23.309658999999993 },
          { x: 9, y: 11.669610999999993 },
          { x: 10, y: 5.070290999999993 },
          { x: 11, y: 1.918498999999993 },
          { x: 12, y: 0.627484999999993 },
          { x: 13, y: 0.17722899999999298 },
          { x: 14, y: 0.04254899999999298 },
          { x: 15, y: 0.00861299999999298 },
          { x: 16, y: 0.0014169999999929803 },
          { x: 17, y: 0.00018499999999298028 },
          { x: 18, y: 0.000016999999992980285 },
          { x: 19, y: 9.999999929802862e-7 },
        ],
      },
      {
        label: '9d10',
        data: [
          { x: 0, y: 100 },
          { x: 4, y: 95.9646393 },
          { x: 5, y: 85.5879975 },
          { x: 6, y: 68.5406574 },
          { x: 7, y: 48.775625399999996 },
          { x: 8, y: 30.563560199999994 },
          { x: 9, y: 16.889384999999994 },
          { x: 10, y: 8.214091799999993 },
          { x: 11, y: 3.523968599999993 },
          { x: 12, y: 1.3299683999999927 },
          { x: 13, y: 0.44140719999999267 },
          { x: 14, y: 0.12797859999999267 },
          { x: 15, y: 0.032261799999992666 },
          { x: 16, y: 0.006969399999992666 },
          { x: 17, y: 0.001274199999992666 },
          { x: 18, y: 0.000190599999992666 },
          { x: 19, y: 0.000022599999992666003 },
          { x: 20, y: 0.0000018999999926660046 },
          { x: 21, y: 9.999999266600471e-8 },
        ],
      },
      {
        label: '10d10',
        data: [
          { x: 0, y: 100 },
          { x: 4, y: 97.17524751 },
          { x: 5, y: 89.10452611000001 },
          { x: 6, y: 74.69252361000001 },
          { x: 7, y: 56.40986901000001 },
          { x: 8, y: 38.003682960000006 },
          { x: 9, y: 22.812844080000005 },
          { x: 10, y: 12.184097280000005 },
          { x: 11, y: 5.7985348800000045 },
          { x: 12, y: 2.4571807800000043 },
          { x: 13, y: 0.9273755800000043 },
          { x: 14, y: 0.3108633000000043 },
          { x: 15, y: 0.09231970000000428 },
          { x: 16, y: 0.02412880000000428 },
          { x: 17, y: 0.005512000000004281 },
          { x: 18, y: 0.001085200000004281 },
          { x: 19, y: 0.00018136000000428096 },
          { x: 20, y: 0.00002491000000428095 },
          { x: 21, y: 0.000002710000004280948 },
          { x: 22, y: 2.1000000428094782e-7 },
          { x: 23, y: 1.000000428094783e-8 },
        ],
      },
    ],
  },
  [Double.Nines]: {
    [Enhancement.None]: [
      {
        label: '1d10',
        data: [
          { x: 0, y: 100 },
          { x: 1, y: 30 },
          { x: 2, y: 20 },
        ],
      },
      {
        label: '2d10',
        data: [
          { x: 0, y: 100 },
          { x: 1, y: 51 },
          { x: 2, y: 37 },
          { x: 3, y: 8 },
          { x: 4, y: 4 },
        ],
      },
      {
        label: '3d10',
        data: [
          { x: 0, y: 100 },
          { x: 1, y: 65.7 },
          { x: 2, y: 51 },
          { x: 3, y: 19.5 },
          { x: 4, y: 11 },
          { x: 5, y: 2 },
          { x: 6, y: 0.8 },
        ],
      },
      {
        label: '4d10',
        data: [
          { x: 0, y: 100 },
          { x: 1, y: 75.99 },
          { x: 2, y: 62.269999999999996 },
          { x: 3, y: 31.889999999999997 },
          { x: 4, y: 19.849999999999998 },
          { x: 5, y: 6.399999999999999 },
          { x: 6, y: 2.9599999999999986 },
          { x: 7, y: 0.47999999999999865 },
          { x: 8, y: 0.15999999999999864 },
        ],
      },
      {
        label: '5d10',
        data: [
          { x: 0, y: 100 },
          { x: 1, y: 83.193 },
          { x: 2, y: 71.188 },
          { x: 3, y: 43.748000000000005 },
          { x: 4, y: 29.538000000000004 },
          { x: 5, y: 12.843000000000004 },
          { x: 6, y: 6.682000000000004 },
          { x: 7, y: 1.9120000000000044 },
          { x: 8, y: 0.7520000000000044 },
          { x: 9, y: 0.11200000000000443 },
          { x: 10, y: 0.03200000000000443 },
        ],
      },
      {
        label: '6d10',
        data: [
          { x: 0, y: 100 },
          { x: 1, y: 88.2351 },
          { x: 2, y: 78.15090000000001 },
          { x: 3, y: 54.38100000000001 },
          { x: 4, y: 39.28900000000001 },
          { x: 5, y: 20.693500000000007 },
          { x: 6, y: 11.869300000000008 },
          { x: 7, y: 4.575200000000008 },
          { x: 8, y: 2.054000000000008 },
          { x: 9, y: 0.5360000000000078 },
          { x: 10, y: 0.18400000000000782 },
          { x: 11, y: 0.02560000000000781 },
          { x: 12, y: 0.006400000000007813 },
        ],
      },
      {
        label: '7d10',
        data: [
          { x: 0, y: 100 },
          { x: 1, y: 91.76457 },
          { x: 2, y: 83.52914000000001 },
          { x: 3, y: 63.52881000000001 },
          { x: 4, y: 48.57058000000001 },
          { x: 5, y: 29.290550000000007 },
          { x: 6, y: 18.235660000000006 },
          { x: 7, y: 8.528270000000006 },
          { x: 8, y: 4.269180000000007 },
          { x: 9, y: 1.4956400000000065 },
          { x: 10, y: 0.5932000000000065 },
          { x: 11, y: 0.14352000000000648 },
          { x: 12, y: 0.04384000000000647 },
          { x: 13, y: 0.005760000000006468 },
          { x: 14, y: 0.0012800000000064687 },
        ],
      },
      {
        label: '8d10',
        data: [
          { x: 0, y: 100 },
          { x: 1, y: 94.235199 },
          { x: 2, y: 87.64685499999999 },
          { x: 3, y: 71.17599499999999 },
          { x: 4, y: 57.05811499999999 },
          { x: 5, y: 38.06620499999998 },
          { x: 6, y: 25.40813299999998 },
          { x: 7, y: 13.651464999999982 },
          { x: 8, y: 7.488384999999982 },
          { x: 9, y: 3.1795199999999824 },
          { x: 10, y: 1.4186399999999824 },
          { x: 11, y: 0.45891199999998233 },
          { x: 12, y: 0.16367999999998234 },
          { x: 13, y: 0.037119999999982334 },
          { x: 14, y: 0.010239999999982333 },
          { x: 15, y: 0.0012799999999823335 },
          { x: 16, y: 0.0002559999999823335 },
        ],
      },
      {
        label: '9d10',
        data: [
          { x: 0, y: 100 },
          { x: 1, y: 95.9646393 },
          { x: 2, y: 90.77631840000001 },
          { x: 3, y: 77.43492180000001 },
          { x: 4, y: 64.58765100000001 },
          { x: 5, y: 46.587354000000005 },
          { x: 6, y: 33.0039366 },
          { x: 7, y: 19.710079800000003 },
          { x: 8, y: 11.688642600000003 },
          { x: 9, y: 5.704795500000003 },
          { x: 10, y: 2.808677000000003 },
          { x: 11, y: 1.099006400000003 },
          { x: 12, y: 0.444195200000003 },
          { x: 13, y: 0.13413440000000298 },
          { x: 14, y: 0.043616000000002986 },
          { x: 15, y: 0.009344000000002989 },
          { x: 16, y: 0.002355200000002989 },
          { x: 17, y: 0.00028160000000298883 },
          { x: 18, y: 0.000051200000002988845 },
        ],
      },
      {
        label: '10d10',
        data: [
          { x: 0, y: 100 },
          { x: 1, y: 97.17524751 },
          { x: 2, y: 93.13988681000001 },
          { x: 3, y: 82.47500496 },
          { x: 4, y: 71.11011156 },
          { x: 5, y: 54.55689726000001 },
          { x: 6, y: 40.67902122000001 },
          { x: 7, y: 26.414920320000007 },
          { x: 8, y: 16.75384512000001 },
          { x: 9, y: 9.104237070000007 },
          { x: 10, y: 4.874281970000007 },
          { x: 11, y: 2.191131280000007 },
          { x: 12, y: 0.9825726800000072 },
          { x: 13, y: 0.35811488000000724 },
          { x: 14, y: 0.13278368000000723 },
          { x: 15, y: 0.037729280000007234 },
          { x: 16, y: 0.011306240000007236 },
          { x: 17, y: 0.0023014400000072356 },
          { x: 18, y: 0.0005350400000072356 },
          { x: 19, y: 0.0000614400000072356 },
          { x: 20, y: 0.000010240000007235596 },
        ],
      },
    ],
    [Enhancement.One]: [
      {
        label: '1d10',
        data: [
          { x: 0, y: 100 },
          { x: 2, y: 30 },
          { x: 3, y: 20 },
        ],
      },
      {
        label: '2d10',
        data: [
          { x: 0, y: 100 },
          { x: 2, y: 51 },
          { x: 3, y: 37 },
          { x: 4, y: 8 },
          { x: 5, y: 4 },
        ],
      },
      {
        label: '3d10',
        data: [
          { x: 0, y: 100 },
          { x: 2, y: 65.7 },
          { x: 3, y: 51 },
          { x: 4, y: 19.5 },
          { x: 5, y: 11 },
          { x: 6, y: 2 },
          { x: 7, y: 0.8 },
        ],
      },
      {
        label: '4d10',
        data: [
          { x: 0, y: 100 },
          { x: 2, y: 75.99 },
          { x: 3, y: 62.269999999999996 },
          { x: 4, y: 31.889999999999997 },
          { x: 5, y: 19.849999999999998 },
          { x: 6, y: 6.399999999999999 },
          { x: 7, y: 2.9599999999999986 },
          { x: 8, y: 0.47999999999999865 },
          { x: 9, y: 0.15999999999999864 },
        ],
      },
      {
        label: '5d10',
        data: [
          { x: 0, y: 100 },
          { x: 2, y: 83.193 },
          { x: 3, y: 71.188 },
          { x: 4, y: 43.748000000000005 },
          { x: 5, y: 29.538000000000004 },
          { x: 6, y: 12.843000000000004 },
          { x: 7, y: 6.682000000000004 },
          { x: 8, y: 1.9120000000000044 },
          { x: 9, y: 0.7520000000000044 },
          { x: 10, y: 0.11200000000000443 },
          { x: 11, y: 0.03200000000000443 },
        ],
      },
      {
        label: '6d10',
        data: [
          { x: 0, y: 100 },
          { x: 2, y: 88.2351 },
          { x: 3, y: 78.15090000000001 },
          { x: 4, y: 54.38100000000001 },
          { x: 5, y: 39.28900000000001 },
          { x: 6, y: 20.693500000000007 },
          { x: 7, y: 11.869300000000008 },
          { x: 8, y: 4.575200000000008 },
          { x: 9, y: 2.054000000000008 },
          { x: 10, y: 0.5360000000000078 },
          { x: 11, y: 0.18400000000000782 },
          { x: 12, y: 0.02560000000000781 },
          { x: 13, y: 0.006400000000007813 },
        ],
      },
      {
        label: '7d10',
        data: [
          { x: 0, y: 100 },
          { x: 2, y: 91.76457 },
          { x: 3, y: 83.52914000000001 },
          { x: 4, y: 63.52881000000001 },
          { x: 5, y: 48.57058000000001 },
          { x: 6, y: 29.290550000000007 },
          { x: 7, y: 18.235660000000006 },
          { x: 8, y: 8.528270000000006 },
          { x: 9, y: 4.269180000000007 },
          { x: 10, y: 1.4956400000000065 },
          { x: 11, y: 0.5932000000000065 },
          { x: 12, y: 0.14352000000000648 },
          { x: 13, y: 0.04384000000000647 },
          { x: 14, y: 0.005760000000006468 },
          { x: 15, y: 0.0012800000000064687 },
        ],
      },
      {
        label: '8d10',
        data: [
          { x: 0, y: 100 },
          { x: 2, y: 94.235199 },
          { x: 3, y: 87.64685499999999 },
          { x: 4, y: 71.17599499999999 },
          { x: 5, y: 57.05811499999999 },
          { x: 6, y: 38.06620499999998 },
          { x: 7, y: 25.40813299999998 },
          { x: 8, y: 13.651464999999982 },
          { x: 9, y: 7.488384999999982 },
          { x: 10, y: 3.1795199999999824 },
          { x: 11, y: 1.4186399999999824 },
          { x: 12, y: 0.45891199999998233 },
          { x: 13, y: 0.16367999999998234 },
          { x: 14, y: 0.037119999999982334 },
          { x: 15, y: 0.010239999999982333 },
          { x: 16, y: 0.0012799999999823335 },
          { x: 17, y: 0.0002559999999823335 },
        ],
      },
      {
        label: '9d10',
        data: [
          { x: 0, y: 100 },
          { x: 2, y: 95.9646393 },
          { x: 3, y: 90.77631840000001 },
          { x: 4, y: 77.43492180000001 },
          { x: 5, y: 64.58765100000001 },
          { x: 6, y: 46.587354000000005 },
          { x: 7, y: 33.0039366 },
          { x: 8, y: 19.710079800000003 },
          { x: 9, y: 11.688642600000003 },
          { x: 10, y: 5.704795500000003 },
          { x: 11, y: 2.808677000000003 },
          { x: 12, y: 1.099006400000003 },
          { x: 13, y: 0.444195200000003 },
          { x: 14, y: 0.13413440000000298 },
          { x: 15, y: 0.043616000000002986 },
          { x: 16, y: 0.009344000000002989 },
          { x: 17, y: 0.002355200000002989 },
          { x: 18, y: 0.00028160000000298883 },
          { x: 19, y: 0.000051200000002988845 },
        ],
      },
      {
        label: '10d10',
        data: [
          { x: 0, y: 100 },
          { x: 2, y: 97.17524751 },
          { x: 3, y: 93.13988681000001 },
          { x: 4, y: 82.47500496 },
          { x: 5, y: 71.11011156 },
          { x: 6, y: 54.55689726000001 },
          { x: 7, y: 40.67902122000001 },
          { x: 8, y: 26.414920320000007 },
          { x: 9, y: 16.75384512000001 },
          { x: 10, y: 9.104237070000007 },
          { x: 11, y: 4.874281970000007 },
          { x: 12, y: 2.191131280000007 },
          { x: 13, y: 0.9825726800000072 },
          { x: 14, y: 0.35811488000000724 },
          { x: 15, y: 0.13278368000000723 },
          { x: 16, y: 0.037729280000007234 },
          { x: 17, y: 0.011306240000007236 },
          { x: 18, y: 0.0023014400000072356 },
          { x: 19, y: 0.0005350400000072356 },
          { x: 20, y: 0.0000614400000072356 },
          { x: 21, y: 0.000010240000007235596 },
        ],
      },
    ],
    [Enhancement.Two]: [
      {
        label: '1d10',
        data: [
          { x: 0, y: 100 },
          { x: 3, y: 30 },
          { x: 4, y: 20 },
        ],
      },
      {
        label: '2d10',
        data: [
          { x: 0, y: 100 },
          { x: 3, y: 51 },
          { x: 4, y: 37 },
          { x: 5, y: 8 },
          { x: 6, y: 4 },
        ],
      },
      {
        label: '3d10',
        data: [
          { x: 0, y: 100 },
          { x: 3, y: 65.7 },
          { x: 4, y: 51 },
          { x: 5, y: 19.5 },
          { x: 6, y: 11 },
          { x: 7, y: 2 },
          { x: 8, y: 0.8 },
        ],
      },
      {
        label: '4d10',
        data: [
          { x: 0, y: 100 },
          { x: 3, y: 75.99 },
          { x: 4, y: 62.269999999999996 },
          { x: 5, y: 31.889999999999997 },
          { x: 6, y: 19.849999999999998 },
          { x: 7, y: 6.399999999999999 },
          { x: 8, y: 2.9599999999999986 },
          { x: 9, y: 0.47999999999999865 },
          { x: 10, y: 0.15999999999999864 },
        ],
      },
      {
        label: '5d10',
        data: [
          { x: 0, y: 100 },
          { x: 3, y: 83.193 },
          { x: 4, y: 71.188 },
          { x: 5, y: 43.748000000000005 },
          { x: 6, y: 29.538000000000004 },
          { x: 7, y: 12.843000000000004 },
          { x: 8, y: 6.682000000000004 },
          { x: 9, y: 1.9120000000000044 },
          { x: 10, y: 0.7520000000000044 },
          { x: 11, y: 0.11200000000000443 },
          { x: 12, y: 0.03200000000000443 },
        ],
      },
      {
        label: '6d10',
        data: [
          { x: 0, y: 100 },
          { x: 3, y: 88.2351 },
          { x: 4, y: 78.15090000000001 },
          { x: 5, y: 54.38100000000001 },
          { x: 6, y: 39.28900000000001 },
          { x: 7, y: 20.693500000000007 },
          { x: 8, y: 11.869300000000008 },
          { x: 9, y: 4.575200000000008 },
          { x: 10, y: 2.054000000000008 },
          { x: 11, y: 0.5360000000000078 },
          { x: 12, y: 0.18400000000000782 },
          { x: 13, y: 0.02560000000000781 },
          { x: 14, y: 0.006400000000007813 },
        ],
      },
      {
        label: '7d10',
        data: [
          { x: 0, y: 100 },
          { x: 3, y: 91.76457 },
          { x: 4, y: 83.52914000000001 },
          { x: 5, y: 63.52881000000001 },
          { x: 6, y: 48.57058000000001 },
          { x: 7, y: 29.290550000000007 },
          { x: 8, y: 18.235660000000006 },
          { x: 9, y: 8.528270000000006 },
          { x: 10, y: 4.269180000000007 },
          { x: 11, y: 1.4956400000000065 },
          { x: 12, y: 0.5932000000000065 },
          { x: 13, y: 0.14352000000000648 },
          { x: 14, y: 0.04384000000000647 },
          { x: 15, y: 0.005760000000006468 },
          { x: 16, y: 0.0012800000000064687 },
        ],
      },
      {
        label: '8d10',
        data: [
          { x: 0, y: 100 },
          { x: 3, y: 94.235199 },
          { x: 4, y: 87.64685499999999 },
          { x: 5, y: 71.17599499999999 },
          { x: 6, y: 57.05811499999999 },
          { x: 7, y: 38.06620499999998 },
          { x: 8, y: 25.40813299999998 },
          { x: 9, y: 13.651464999999982 },
          { x: 10, y: 7.488384999999982 },
          { x: 11, y: 3.1795199999999824 },
          { x: 12, y: 1.4186399999999824 },
          { x: 13, y: 0.45891199999998233 },
          { x: 14, y: 0.16367999999998234 },
          { x: 15, y: 0.037119999999982334 },
          { x: 16, y: 0.010239999999982333 },
          { x: 17, y: 0.0012799999999999824 },
          { x: 18, y: 0.0002559999999999824 },
        ],
      },
      {
        label: '9d10',
        data: [
          { x: 0, y: 100 },
          { x: 3, y: 95.9646393 },
          { x: 4, y: 90.77631840000001 },
          { x: 5, y: 77.43492180000001 },
          { x: 6, y: 64.58765100000001 },
          { x: 7, y: 46.587354000000005 },
          { x: 8, y: 33.0039366 },
          { x: 9, y: 19.710079800000003 },
          { x: 10, y: 11.688642600000003 },
          { x: 11, y: 5.704795500000003 },
          { x: 12, y: 2.808677000000003 },
          { x: 13, y: 1.099006400000003 },
          { x: 14, y: 0.444195200000003 },
          { x: 15, y: 0.13413440000000298 },
          { x: 16, y: 0.043616000000002986 },
          { x: 17, y: 0.009344000000002989 },
          { x: 18, y: 0.002355200000002989 },
          { x: 19, y: 0.00028160000000298883 },
          { x: 20, y: 0.000051200000002988845 },
        ],
      },
      {
        label: '10d10',
        data: [
          { x: 0, y: 100 },
          { x: 3, y: 97.17524751 },
          { x: 4, y: 93.13988681000001 },
          { x: 5, y: 82.47500496 },
          { x: 6, y: 71.11011156 },
          { x: 7, y: 54.55689726000001 },
          { x: 8, y: 40.67902122000001 },
          { x: 9, y: 26.414920320000007 },
          { x: 10, y: 16.75384512000001 },
          { x: 11, y: 9.104237070000007 },
          { x: 12, y: 4.874281970000007 },
          { x: 13, y: 2.191131280000007 },
          { x: 14, y: 0.9825726800000072 },
          { x: 15, y: 0.35811488000000724 },
          { x: 16, y: 0.13278368000000723 },
          { x: 17, y: 0.037729280000007234 },
          { x: 18, y: 0.011306240000007236 },
          { x: 19, y: 0.0023014400000072356 },
          { x: 20, y: 0.0005350400000072356 },
          { x: 21, y: 0.0000614400000072356 },
          { x: 22, y: 0.000010240000007235596 },
        ],
      },
    ],
    [Enhancement.Three]: [
      {
        label: '1d10',
        data: [
          { x: 0, y: 100 },
          { x: 4, y: 30 },
          { x: 5, y: 20 },
        ],
      },
      {
        label: '2d10',
        data: [
          { x: 0, y: 100 },
          { x: 4, y: 51 },
          { x: 5, y: 37 },
          { x: 6, y: 8 },
          { x: 7, y: 4 },
        ],
      },
      {
        label: '3d10',
        data: [
          { x: 0, y: 100 },
          { x: 4, y: 65.7 },
          { x: 5, y: 51 },
          { x: 6, y: 19.5 },
          { x: 7, y: 11 },
          { x: 8, y: 2 },
          { x: 9, y: 0.8 },
        ],
      },
      {
        label: '4d10',
        data: [
          { x: 0, y: 100 },
          { x: 4, y: 75.99 },
          { x: 5, y: 62.269999999999996 },
          { x: 6, y: 31.889999999999997 },
          { x: 7, y: 19.849999999999998 },
          { x: 8, y: 6.399999999999999 },
          { x: 9, y: 2.9599999999999986 },
          { x: 10, y: 0.47999999999999865 },
          { x: 11, y: 0.15999999999999864 },
        ],
      },
      {
        label: '5d10',
        data: [
          { x: 0, y: 100 },
          { x: 4, y: 83.193 },
          { x: 5, y: 71.188 },
          { x: 6, y: 43.748000000000005 },
          { x: 7, y: 29.538000000000004 },
          { x: 8, y: 12.843000000000004 },
          { x: 9, y: 6.682000000000004 },
          { x: 10, y: 1.9120000000000044 },
          { x: 11, y: 0.7520000000000044 },
          { x: 12, y: 0.11200000000000443 },
          { x: 13, y: 0.03200000000000443 },
        ],
      },
      {
        label: '6d10',
        data: [
          { x: 0, y: 100 },
          { x: 4, y: 88.2351 },
          { x: 5, y: 78.15090000000001 },
          { x: 6, y: 54.38100000000001 },
          { x: 7, y: 39.28900000000001 },
          { x: 8, y: 20.693500000000007 },
          { x: 9, y: 11.869300000000008 },
          { x: 10, y: 4.575200000000008 },
          { x: 11, y: 2.054000000000008 },
          { x: 12, y: 0.5360000000000078 },
          { x: 13, y: 0.18400000000000782 },
          { x: 14, y: 0.02560000000000781 },
          { x: 15, y: 0.006400000000007813 },
        ],
      },
      {
        label: '7d10',
        data: [
          { x: 0, y: 100 },
          { x: 4, y: 91.76457 },
          { x: 5, y: 83.52914000000001 },
          { x: 6, y: 63.52881000000001 },
          { x: 7, y: 48.57058000000001 },
          { x: 8, y: 29.290550000000007 },
          { x: 9, y: 18.235660000000006 },
          { x: 10, y: 8.528270000000006 },
          { x: 11, y: 4.269180000000007 },
          { x: 12, y: 1.4956400000000065 },
          { x: 13, y: 0.5932000000000065 },
          { x: 14, y: 0.14352000000000648 },
          { x: 15, y: 0.04384000000000647 },
          { x: 16, y: 0.005760000000006468 },
          { x: 17, y: 0.0012800000000064687 },
        ],
      },
      {
        label: '8d10',
        data: [
          { x: 0, y: 100 },
          { x: 4, y: 94.235199 },
          { x: 5, y: 87.64685499999999 },
          { x: 6, y: 71.17599499999999 },
          { x: 7, y: 57.05811499999999 },
          { x: 8, y: 38.06620499999998 },
          { x: 9, y: 25.40813299999998 },
          { x: 10, y: 13.651464999999982 },
          { x: 11, y: 7.488384999999982 },
          { x: 12, y: 3.1795199999999824 },
          { x: 13, y: 1.4186399999999824 },
          { x: 14, y: 0.45891199999998233 },
          { x: 15, y: 0.16367999999998234 },
          { x: 16, y: 0.037119999999982334 },
          { x: 17, y: 0.010239999999982333 },
          { x: 18, y: 0.0012799999999999824 },
          { x: 19, y: 0.0002559999999999824 },
        ],
      },
      {
        label: '9d10',
        data: [
          { x: 0, y: 100 },
          { x: 4, y: 95.9646393 },
          { x: 5, y: 90.77631840000001 },
          { x: 6, y: 77.43492180000001 },
          { x: 7, y: 64.58765100000001 },
          { x: 8, y: 46.587354000000005 },
          { x: 9, y: 33.0039366 },
          { x: 10, y: 19.710079800000003 },
          { x: 11, y: 11.688642600000003 },
          { x: 12, y: 5.704795500000003 },
          { x: 13, y: 2.808677000000003 },
          { x: 14, y: 1.099006400000003 },
          { x: 15, y: 0.444195200000003 },
          { x: 16, y: 0.13413440000000298 },
          { x: 17, y: 0.043616000000002986 },
          { x: 18, y: 0.009344000000002989 },
          { x: 19, y: 0.002355200000002989 },
          { x: 20, y: 0.00028160000000298883 },
          { x: 21, y: 0.000051200000002988845 },
        ],
      },
      {
        label: '10d10',
        data: [
          { x: 0, y: 100 },
          { x: 4, y: 97.17524751 },
          { x: 5, y: 93.13988681000001 },
          { x: 6, y: 82.47500496 },
          { x: 7, y: 71.11011156 },
          { x: 8, y: 54.55689726000001 },
          { x: 9, y: 40.67902122000001 },
          { x: 10, y: 26.414920320000007 },
          { x: 11, y: 16.75384512000001 },
          { x: 12, y: 9.104237070000007 },
          { x: 13, y: 4.874281970000007 },
          { x: 14, y: 2.191131280000007 },
          { x: 15, y: 0.9825726800000072 },
          { x: 16, y: 0.35811488000000724 },
          { x: 17, y: 0.13278368000000723 },
          { x: 18, y: 0.037729280000007234 },
          { x: 19, y: 0.011306240000007236 },
          { x: 20, y: 0.0023014400000072356 },
          { x: 21, y: 0.0005350400000072356 },
          { x: 22, y: 0.0000614400000072356 },
          { x: 23, y: 0.000010240000007235596 },
        ],
      },
    ],
  },
};

const PALETTE = [
  '#ff0029',
  '#377eb8',
  '#66a61e',
  '#984ea3',
  '#00d2d5',
  '#ff7f00',
  '#af8d00',
  '#7f80cd',
  '#b3e900',
  '#c42e60',
  '#a65628',
  '#f781bf',
  '#8dd3c7',
  '#bebada',
  '#fb8072',
  '#80b1d3',
  '#fdb462',
  '#fccde5',
  '#bc80bd',
  '#ffed6f',
  '#c4eaff',
  '#cf8c00',
  '#1b9e77',
  '#d95f02',
  '#e7298a',
  '#e6ab02',
  '#a6761d',
  '#0097ff',
  '#00d067',
  '#000000',
  '#252525',
  '#525252',
  '#737373',
  '#969696',
  '#bdbdbd',
  '#f43600',
  '#4ba93b',
  '#5779bb',
  '#927acc',
  '#97ee3f',
  '#bf3947',
  '#9f5b00',
  '#f48758',
  '#8caed6',
  '#f2b94f',
  '#eff26e',
  '#e43872',
  '#d9b100',
  '#9d7a00',
  '#698cff',
  '#d9d9d9',
  '#00d27e',
  '#d06800',
  '#009f82',
  '#c49200',
  '#cbe8ff',
  '#fecddf',
  '#c27eb6',
  '#8cd2ce',
  '#c4b8d9',
  '#f883b0',
  '#a49100',
  '#f48800',
  '#27d0df',
  '#a04a9b',
];

const DifficultyChartTooltip: React.FC<TooltipProps<number, string> & { double: Double; enhancement: Enhancement; }> = (
  { active, payload, label, double, enhancement },
) => {
  if (!active || !payload) return null;

  const labels = [
    double === Double.Nines ? ['Double 9s'] : [],
    enhancement === Enhancement.One
      ? ['Enhancement +1']
      : enhancement === Enhancement.Two
      ? ['Enhancement +2']
      : enhancement === Enhancement.Three
      ? ['Enhancement +3']
      : [],
  ].flat();

  return (
    <div
      className={vstack({
        gap: '2',
        backgroundColor: 'stone.100',
        borderRadius: 'sm',
        boxShadow: 'md',
        fontSize: 'xs',
        lineHeight: 'snug',
        maxWidth: '36',
        paddingBlock: '1',
        paddingInline: '2',
      })}
    >
      <p>
        Odds of rolling at least{' '}
        <strong className={css({ whiteSpace: 'nowrap' })}>{label} {label === 1 ? 'Hit' : 'Hits'}</strong>{' '}
        {labels.length > 0 && 'with'} {labels.map((l, i) => (
          <>
            <em key={l} className={css({ whiteSpace: 'nowrap' })}>{l}</em>
            {i < labels.length - 1 ? ', ' : ''}
          </>
        ))}
      </p>
      <ul className={grid({ columns: '2', rowGap: '1', columnGap: '1' })}>
        {payload.map((p, i) =>
          p.name !== undefined && p.value !== undefined && (
            <li key={i} className={css({ whiteSpace: 'nowrap' })} style={{ color: p.color }}>
              {p.name}: {Math.round(p.value)}%
            </li>
          )
        )}
      </ul>
    </div>
  );
};

const DifficultyChart: React.FC = () => {
  const [double, setDouble] = useState(Double.Tens);
  const [enhancement, setEnhancement] = useState(Enhancement.None);

  const series = useMemo(
    () =>
      // Filter the data to remove points with a probability of less than 1%
      DATA[double][enhancement].map(({ data, ...rest }) => ({
        data: data.flatMap(({ x, y }) => y < 1 ? [] : [{ x, y }]),
        ...rest,
      })),
    [double, enhancement],
  );

  return (
    <div
      className={vstack({
        gap: '2',
        marginBlock: '4',
        marginInline: '-8',
        fontSize: 'xs',
      })}
    >
      <div className={hstack({ gap: '2', justifyContent: 'center' })}>
        <select
          value={double}
          onChange={(e) => {
            setDouble(e.target.value as Double);
          }}
        >
          <option value={Double.Tens}>Double 10s</option>
          <option value={Double.Nines}>Double 9s</option>
        </select>
        <select
          value={enhancement}
          onChange={(e) => {
            setEnhancement(e.target.value as Enhancement);
          }}
        >
          <option value={Enhancement.None}>No Enhancement</option>
          <option value={Enhancement.One}>Enhancement +1</option>
          <option value={Enhancement.Two}>Enhancement +2</option>
          <option value={Enhancement.Three}>Enhancement +3</option>
        </select>
      </div>
      <ResponsiveContainer width='100%' aspect={4 / 3}>
        <LineChart>
          <CartesianGrid strokeDasharray='2 2' />
          <XAxis dataKey='x' allowDuplicatedCategory={false} style={{ color: 'var(--colors-stone-800)' }} />
          <YAxis dataKey='y' width={30} style={{ color: 'var(--colors-stone-800)' }} />
          <Tooltip content={<DifficultyChartTooltip double={double} enhancement={enhancement} />} />
          <Legend />
          {series.map((s, i) => (
            <Line
              key={s.label}
              name={s.label}
              dataKey='y'
              data={s.data}
              stroke={PALETTE[i]}
              strokeWidth={2}
            />
          ))}
        </LineChart>
      </ResponsiveContainer>
    </div>
  );
};

export default DifficultyChart;
